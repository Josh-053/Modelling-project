data <- read.table("/home/ali/Desktop/Modeling/Project/MOD_Exam_2526_Dataset.txt",
sep = " ",        # space-separated
na.strings = ".", # treat "." as NA
header = TRUE)
data <- read.table("dataset.txt",
sep = " ",        # space-separated
na.strings = ".", # treat "." as NA
header = TRUE)
str(data)
View(data)
data <- data %>%
mutate(DOSE = as.integer(DOSE),
EVID = case_when(
is.na(CONC) & DOSE>0 ~ 1,
CONC>=0 ~ 0,
is.na(CONC) & is.na(DOSE) ~ 2))
library(ggplot2)
library(tidyverse)
data <- data %>%
mutate(DOSE = as.integer(DOSE),
EVID = case_when(
is.na(CONC) & DOSE>0 ~ 1,
CONC>=0 ~ 0,
is.na(CONC) & is.na(DOSE) ~ 2))
data <- data %>% group_by(ID) %>%
fill(c(BW),.direction = "downup") %>%
ungroup()
data$AMT = data$DOSE * data$BW
write.table(data, file = "dataset_clean.txt", quote = FALSE, sep = " ", na = ".")
conc <- na.omit(data$CONC) # omit missing values from the concentrations
LLOQ <- 1.0 # given: LLOQ = 1.0 mg/L from ELISA
perc_BLQ <- mean(conc < LLOQ) * 100
perc_BLQ
data <- read.table("dataset.txt",
sep = " ",        # space-separated
na.strings = ".", # treat "." as NA
header = TRUE)
data <- data %>%
mutate(DOSE = as.integer(DOSE),
TIME = as.numeric(TIME),
EVID = case_when(
is.na(CONC) & DOSE>0 ~ 1,
CONC>=0 ~ 0,
is.na(CONC) & is.na(DOSE) ~ 2))
data <- data %>% group_by(ID) %>%
fill(c(BW),.direction = "downup") %>%
ungroup()
data$AMT = data$DOSE * data$BW
write.table(data, file = "dataset_clean.txt", quote = FALSE, sep = " ", na = ".")
data <- read.table("dataset.txt",
sep = " ",        # space-separated
na.strings = ".", # treat "." as NA
header = TRUE)
library(ggplot2)
library(tidyverse)
data <- read.table("dataset.txt",
sep = " ",        # space-separated
na.strings = ".", # treat "." as NA
header = TRUE)
data <- data %>%
mutate(DOSE = as.numeric(DOSE),
EVID = case_when(
is.na(CONC) & DOSE!=0 ~ 1,
CONC>=0 ~ 0,
is.na(CONC) & DOSE==0 ~ 2))
data <- data %>% group_by(ID) %>%
fill(c(BW),.direction = "downup") %>%
ungroup()
data$AMT = data$DOSE * data$BW
write.table(data, file = "dataset_clean.txt", quote = FALSE, sep = " ", na = ".")
write.csv(data, file = "dataset_clean.csv", quote = FALSE, na = ".")
data <- read.table("dataset.txt",
sep = " ",        # space-separated
na.strings = ".", # treat "." as NA
header = TRUE)
data <- data %>%
mutate(DOSE = as.numeric(DOSE),
EVID = case_when(
is.na(CONC) & DOSE!=0 ~ 1,
CONC>=0 ~ 0,
is.na(CONC) & is.na(DOSE) ~ 2))
data <- data %>% group_by(ID) %>%
fill(c(BW),.direction = "downup") %>%
ungroup()
data$AMT = data$DOSE * data$BW
write.table(data, file = "dataset_clean.txt", quote = FALSE, sep = " ", na = ".")
write.csv(data, file = "dataset_clean.csv", quote = FALSE, na = ".")
write.csv(data, file = "dataset_clean.csv", quote = FALSE, na = ".", row.names = FALSE)
```{r}
library(ggplot2)
library(tidyverse)
data <- read.table("dataset.txt",
sep = " ",        # space-separated
na.strings = ".", # treat "." as NA
header = TRUE)
data <- data %>%
mutate(DOSE = as.numeric(DOSE),
EVID = case_when(
is.na(CONC) & DOSE!=0 ~ 1,
CONC>=0 ~ 0,
is.na(CONC) & is.na(DOSE) ~ 2),
BLQ = case_when(
CONC<1 ~ 1,
CONC>=1 ~ 0))
data <- data %>% group_by(ID) %>%
fill(c(BW),.direction = "downup") %>%
ungroup()
data$AMT = data$DOSE * data$BW
write.table(data, file = "dataset_clean.txt", quote = FALSE, sep = " ", na = ".")
write.csv(data, file = "dataset_clean.csv", quote = FALSE, na = ".", row.names = FALSE)
